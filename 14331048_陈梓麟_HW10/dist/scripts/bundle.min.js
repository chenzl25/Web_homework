function init(){var n=this;n.cnt=0,n.$info=$(".info"),n.$total=$(".total"),n.$buttons=$(".button"),n.$button=$("#button"),n.$info.find(".total").text(""),n.$buttons.removeClass("sleep").addClass("active unfinish").find(".unread").hide(),n.$buttons.bind("click",five_click_generator(n)),n.$info.bind("click",function(){if(5==n.cnt){var t=Array.prototype.slice.call(n.$buttons.find(".unread"),0),e=t.reduce(function(n,t){return n+=parseInt(t.textContent)},0);n.$info.find(".total").text(e),n.$info.addClass("sleep")}}),n.$button.bind("mouseleave",function(){n.cnt=0,n.$info.text(""),n.$buttons.removeClass("sleep").addClass("active unfinish").find(".unread").hide(),n.$buttons.bind("click",five_click_generator(n))})}function five_click_generator(n){return function(t){var e=this;$(e).find(".unread").show(),$(e).find(".unread").text("..."),n.$buttons.unbind("click").addClass("sleep"),getNumber(function(t){$(e).siblings().filter(".unfinish").removeClass("sleep").addClass("active").bind("click",five_click_generator(n)),$(e).find(".unread").text(t),$(e).removeClass("active unfinish").addClass("sleep"),n.cnt++,console.log(n.cnt),5==n.cnt&&n.$info.addClass("active")})}}function getNumber(n){var t=new XMLHttpRequest;t.open("get","/"),t.send(null),t.onreadystatechange=function(){return 4==t.readyState&&200==t.status?void n(t.responseText):void 0}}$(document).ready(function(){cnt=0;var n={};init.call(n)});